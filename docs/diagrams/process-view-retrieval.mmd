sequenceDiagram
    participant Client
    participant Controller as TransactionController
    participant FFA as FeatureFlagAspect
    participant MA as MetricsAspect
    participant Service as GetAllTransactionsService
    participant Adapter as TransactionRepositoryAdapter
    participant DB as H2 Database
    
    Client->>Controller: GET /transactions
    Controller->>FFA: Check "get-all-transactions" flag
    FFA-->>Controller: Feature enabled
    Controller->>MA: Track "transactions.fetched"
    Controller->>Service: getAll()
    Service->>Adapter: findAll()
    Adapter->>DB: SELECT * FROM transactions
    DB-->>Adapter: List<TransactionEntity>
    Adapter-->>Service: List<Transaction>
    Service-->>Controller: List<Transaction>
    Controller-->>Client: HTTP 200 + List<Transaction>

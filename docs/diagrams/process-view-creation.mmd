sequenceDiagram
    participant Client
    participant Controller as TransactionController
    participant FFA as FeatureFlagAspect
    participant MA as MetricsAspect
    participant Service as CreateTransactionService
    participant Adapter as TransactionRepositoryAdapter
    participant DB as H2 Database
    
    Client->>Controller: POST /transactions
    Controller->>FFA: Check "create-transaction" flag
    FFA-->>Controller: Feature enabled
    Controller->>MA: Track "transactions.created"
    Controller->>Service: create(transaction)
    Service->>Adapter: save(transaction)
    Adapter->>DB: INSERT transaction
    DB-->>Adapter: Transaction saved
    Adapter-->>Service: Transaction domain object
    Service-->>Controller: Transaction
    Controller-->>Client: HTTP 200 + Transaction
